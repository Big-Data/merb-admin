            <fieldset class="module aligned">
              <h2><%= association[:pretty_name].capitalize %></h2>
              <div class="<%= @object.errors[association[:child_key].first] ? "form-row errors" : "form-row"%>">
                <% if @object.errors[association[:child_key].first] %>
                <ul class="errorlist">
                  <% @object.errors[association[:child_key].first].each do |error| %>
                  <li><%= error %></li>
                  <% end %>
                </ul>
                <% end %>
                <div>
                  <%= select(association[:child_key].first, :collection => MerbAdmin::AbstractModel.new(association[:parent_model]).find_all.map{|o| [o.id, object_title(o)]}.sort_by{|o| o[1]}, :include_blank => true, :selected => @object.send(association[:child_key].first).to_s, :label => association[:pretty_name].capitalize) %>
                  <p class="help">
                    <% required = false %>
                    <% @properties.each do |property| %>
                    <% next unless property[:name] == association[:child_key].first %>
                    <% required = true unless property[:nullable?] %>
                    <% end %>
                    <%= required ? "Required." : "Optional." %>
                  </p>
                </div>
              </div>
            </fieldset>
